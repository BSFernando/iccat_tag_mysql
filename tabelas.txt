CREATE TABLE local(
id INT,
latitude FLOAT(8,4),
longitude FLOAT(8,4),
regiao VARCHAR(200),
oceano VARCHAR(200)
);

CREATE TABLE localresu(
id INT PRIMARY KEY AUTO_INCREMENT,
latitude FLOAT(8,4),
longitude FLOAT(8,4),
regiao VARCHAR(200),
oceano VARCHAR(200)
);

CREATE TABLE formula(
id INT PRIMARY KEY AUTO_INCREMENT,
multi_a FLOAT(10,7),
expo_b FLOAT(10,7),
especie VARCHAR(200)
);

CREATE TABLE petrecho(
id INT PRIMARY KEY AUTO_INCREMENT,
sigla VARCHAR(20),
descr VARCHAR(200)
);

CREATE TABLE frota(
id INT PRIMARY KEY AUTO_INCREMENT,
sigla VARCHAR(20),
descr VARCHAR(200)
);

CREATE TABLE captura(
tag VARCHAR(200) UNIQUE NOT NULL,
frot INT DEFAULT NULL,
petrec INT DEFAULT NULL,
ano INT DEFAULT NULL,
data DATE DEFAULT NULL,
latitude FLOAT(10,5) DEFAULT NULL,
longitude FLOAT(10,5) DEFAULT NULL,
peso FLOAT(12,5) DEFAULT NULL,
comp FLOAT(12,5) DEFAULT NULL,
regiao INT DEFAULT NULL,
especie INT DEFAULT NULL,
CONSTRAINT regiao_for FOREIGN KEY (regiao) REFERENCES localresu(id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT petrecho_for FOREIGN KEY (petrec) REFERENCES petrecho(id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT frota_for FOREIGN KEY (frot) REFERENCES frota(id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT especie_for FOREIGN KEY (especie) REFERENCES formula(id) ON UPDATE CASCADE ON DELETE SET NULL
);

CREATE TABLE re_captura(
tag VARCHAR(200) UNIQUE NOT NULL,
frot INT DEFAULT NULL,
petrec INT DEFAULT NULL,
ano INT DEFAULT NULL,
data DATE DEFAULT NULL,
latitude FLOAT(10,5) DEFAULT NULL,
longitude FLOAT(10,5) DEFAULT NULL,
peso FLOAT(12,5) DEFAULT NULL,
comp FLOAT(12,5) DEFAULT NULL,
regiao INT DEFAULT NULL,
especie INT DEFAULT NULL,
CONSTRAINT tags_for FOREIGN KEY (tag) REFERENCES captura(tag) ON UPDATE CASCADE,
CONSTRAINT regiao_for_ FOREIGN KEY (regiao) REFERENCES localresu(id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT petrecho_for_ FOREIGN KEY (petrec) REFERENCES petrecho(id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT frota_for_ FOREIGN KEY (frot) REFERENCES frota(id) ON UPDATE CASCADE ON DELETE SET NULL,
CONSTRAINT especie_for_ FOREIGN KEY (especie) REFERENCES formula(id) ON UPDATE CASCADE ON DELETE SET NULL
);
